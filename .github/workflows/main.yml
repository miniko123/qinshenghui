name: 签到 # yml文件名

on:
  workflow_dispatch:
  schedule:   
    # 每天9点执行签到
    - cron: '0 1 * * *'  # UTC 时间 1:00，对应中国时间9:00
    # 每天18点执行签到
    - cron: '0 10 * * *'  # UTC 时间 10:00，对应中国时间18:00

jobs:
  run-check-in: # 任务名
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - uses: actions/setup-node@v3
        with:
          node-version: '20.x'
          
      - name: 安装依赖  
        run: |
          npm install

      - name: 运行签到 - 9点签到
        if: github.event.schedule == '0 1 * * *'  # 仅在9点任务时执行
        run: |
          node ./index.js '${{ secrets.XYB }}'

      - name: 运行签到 - 18点签到
        if: github.event.schedule == '0 10 * * *'  # 仅在18点任务时执行
        run: |
          node ./index.js '${{ secrets.YXY }}'
